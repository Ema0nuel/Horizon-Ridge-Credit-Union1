import{u as C,r as d,j as e,L as S,a as A,b as P}from"./index-nw5vX4eR.js";import{a as k}from"./useAuth-CEWmmymt.js";import"./authService-BzjFe2h-.js";import"./api-CBahbCmN.js";function F(){const y=C(),{signUp:f}=k(),[r,p]=d.useState(1),[u,c]=d.useState(""),[m,l]=d.useState(""),[s,g]=d.useState({fullName:"",phoneNumber:"",dateOfBirth:"",email:"",password:"",confirmPassword:"",accountType:"savings",currency:"USD"}),[n,b]=d.useState(!1),o=(a,t)=>{g(i=>({...i,[a]:t})),u&&c(""),m&&l("")},h=()=>{switch(r){case 1:return!s.fullName?.trim()||!s.phoneNumber?.trim()||!s.dateOfBirth?.trim()?"Please fill in all fields":"";case 2:return!s.email?.trim()||!s.password?.trim()||!s.confirmPassword?.trim()?"Please fill in all fields":s.password.length<8?"Password must be at least 8 characters":s.password!==s.confirmPassword?"Passwords do not match":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?"":"Please enter a valid email address";default:return""}},j=()=>{const a=h();if(a){c(a);return}c(""),r<4&&p(r+1)},v=()=>{c(""),l(""),r>1&&p(r-1)},N=async a=>{a.preventDefault();const t=h();if(t){c(t);return}c(""),l("Creating your account..."),b(!0);try{const i=await f(s.email,s.password,s.fullName,s.phoneNumber,s.dateOfBirth,s.accountType,s.currency);l(`âœ… Account created successfully! Account #: ${i.accountNumber}`),setTimeout(()=>{y("/auth/login?registered=true")},2e3)}catch(i){l(""),c(i.message||"Signup failed. Please try again.")}finally{b(!1)}},w=({currentStep:a,totalSteps:t})=>e.jsx("div",{className:"flex gap-2 mb-8 justify-center",children:Array.from({length:t}).map((i,x)=>e.jsx("div",{className:`h-2 w-8 rounded-xs transition-colors ${x<a||x===a-1?"bg-basic":"bg-gray-300"}`,role:"progressbar","aria-valuenow":a,"aria-valuemin":1,"aria-valuemax":t},x))});return e.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-md bg-primary rounded-sm border border-secondary shadow-lg p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:S,alt:"Horizon Ridge Credit Union",className:"w-auto h-10"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-secondary mb-2",children:"Create Account"}),e.jsxs("p",{className:"text-sm text-secondary opacity-70",children:["Step ",r," of 4"]})]}),e.jsx(w,{currentStep:r,totalSteps:4}),u&&e.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 text-red-800 rounded-xs text-sm",role:"alert",children:["âŒ ",u]}),m&&e.jsxs("div",{className:"mb-6 p-4 bg-green-100 border border-green-300 text-green-800 rounded-xs text-sm",role:"status",children:["✔️ ",m]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:s.fullName,onChange:a=>o("fullName",a.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Full Name",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:s.phoneNumber,onChange:a=>o("phoneNumber",a.target.value),placeholder:"+1 (555) 000-0000",className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Phone Number",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",value:s.dateOfBirth,onChange:a=>o("dateOfBirth",a.target.value),className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Date of Birth",disabled:n})]})]}),r===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:s.email,onChange:a=>o("email",a.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Email Address",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Password"}),e.jsx("input",{type:"password",value:s.password,onChange:a=>o("password",a.target.value),placeholder:"Min 8 characters",className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Password",disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-2",children:"Confirm Password"}),e.jsx("input",{type:"password",value:s.confirmPassword,onChange:a=>o("confirmPassword",a.target.value),placeholder:"Re-enter password",className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Confirm Password",disabled:n})]})]}),r===3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-4",children:"Account Type"}),e.jsx("div",{className:"space-y-3",children:["savings","checking"].map(a=>e.jsxs("label",{className:"flex items-center gap-3 p-3 border border-secondary rounded-xs cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-basic",children:[e.jsx("input",{type:"radio",name:"account_type",value:a,checked:s.accountType===a,onChange:t=>o("accountType",t.target.value),className:"w-4 h-4","aria-label":`${a} account type`,disabled:n}),e.jsx("span",{className:"text-secondary capitalize font-medium",children:a==="savings"?"Savings Account":"Checking Account"})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-secondary mb-4",children:"Currency"}),e.jsxs("select",{value:s.currency,onChange:a=>o("currency",a.target.value),className:"w-full px-4 py-3 border border-secondary rounded-xs text-secondary bg-primary focus:outline-none focus:ring-2 focus:ring-basic disabled:opacity-50","aria-label":"Account Currency",disabled:n,children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"GBP",children:"GBP (Â£)"}),e.jsx("option",{value:"CAD",children:"CAD ($)"}),e.jsx("option",{value:"AUD",children:"AUD ($)"}),e.jsx("option",{value:"JPY",children:"JPY (¥)"}),e.jsx("option",{value:"CNY",children:"CNY (¥)"}),e.jsx("option",{value:"INR",children:"INR (₹)"}),e.jsx("option",{value:"ZAR",children:"ZAR (R)"}),e.jsx("option",{value:"KES",children:"KES (KSh)"}),e.jsx("option",{value:"GHS",children:"GHS (â‚µ)"}),e.jsx("option",{value:"AED",children:"AED (Ø¯.Ø¥)"}),e.jsx("option",{value:"SAR",children:"SAR (ï·¼)"}),e.jsx("option",{value:"CHF",children:"CHF (CHF)"}),e.jsx("option",{value:"SEK",children:"SEK (kr)"}),e.jsx("option",{value:"NOK",children:"NOK (kr)"}),e.jsx("option",{value:"BRL",children:"BRL (R$)"}),e.jsx("option",{value:"MXN",children:"MXN ($)"}),e.jsx("option",{value:"TRY",children:"TRY (₺)"})]})]})]}),r===4&&e.jsxs("div",{className:"space-y-4 bg-gray-50 rounded-sm p-6 border border-secondary",children:[e.jsx("h3",{className:"font-semibold text-secondary mb-4",children:"Review Your Details"}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-secondary opacity-70",children:"Name:"})," ",e.jsx("span",{className:"text-secondary font-medium",children:s.fullName})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-secondary opacity-70",children:"Email:"})," ",e.jsx("span",{className:"text-secondary font-medium",children:s.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-secondary opacity-70",children:"Phone:"})," ",e.jsx("span",{className:"text-secondary font-medium",children:s.phoneNumber})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-secondary opacity-70",children:"Account Type:"})," ",e.jsx("span",{className:"text-secondary font-medium capitalize",children:s.accountType==="savings"?"Savings Account":"Checking Account"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-secondary opacity-70",children:"Currency:"})," ",e.jsx("span",{className:"text-secondary font-medium",children:s.currency})]})]}),e.jsx("p",{className:"text-xs text-secondary opacity-60 mt-6",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsx("button",{type:"button",onClick:v,disabled:r===1||n,className:"flex-1 py-3 px-4 border border-secondary text-secondary rounded-sm font-semibold hover:bg-gray-50 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),r<4?e.jsx("button",{type:"button",onClick:j,disabled:n,className:"flex-1 py-3 px-4 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):e.jsx("button",{type:"submit",disabled:n,className:"flex-1 py-3 px-4 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:"sm"})," Creating Account..."]}):"Create Account"})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-secondary text-center",children:e.jsxs("p",{className:"text-sm text-secondary",children:["Already have an account?"," ",e.jsx(P,{to:"/auth/login",className:"text-basic font-semibold hover:underline focus:outline-none focus:ring-2 focus:ring-basic rounded-xs px-1",children:"Sign in"})]})})]})})}export{F as SignupPage};
