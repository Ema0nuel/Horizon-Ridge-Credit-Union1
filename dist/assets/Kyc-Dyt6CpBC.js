import{u as E,r as m,s as _,j as e,a as T}from"./index-BaOxJvox.js";import{U as R}from"./UserHeader-Cw37___K.js";import{h as q}from"./authService-2v3OOyD4.js";import"./api-CBahbCmN.js";const U=({step:a,isCompleted:i,isActive:s})=>{const u={1:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),2:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"})}),3:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})};return e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i?"bg-green-600 text-white":s?"bg-basic text-primary":"bg-gray-200 text-gray-600"}`,children:i?e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):u[a]})},z=()=>e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),V=()=>e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),p=({label:a,name:i,type:s="text",value:u,onChange:v,placeholder:o,disabled:b=!1,error:r,required:h=!1})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-secondary mb-2 uppercase tracking-wider opacity-80",children:[a,h&&e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),e.jsx("input",{type:s,name:i,value:u,onChange:v,placeholder:o,disabled:b,className:`w-full px-4 py-3 border rounded-sm focus:outline-none focus:ring-2 transition-all font-sans ${r?"border-red-500 focus:ring-red-500 focus:ring-opacity-50":"border-secondary focus:ring-basic focus:ring-opacity-30"} ${b?"bg-gray-100 opacity-50 cursor-not-allowed":"bg-primary"}`}),r&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:r})]}),k=({label:a,name:i,value:s,onChange:u,options:v,disabled:o=!1,error:b,required:r=!1})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-secondary mb-2 uppercase tracking-wider opacity-80",children:[a,r&&e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),e.jsxs("select",{name:i,value:s,onChange:u,disabled:o,className:`w-full px-4 py-3 border rounded-sm focus:outline-none focus:ring-2 transition-all font-sans ${b?"border-red-500 focus:ring-red-500 focus:ring-opacity-50":"border-secondary focus:ring-basic focus:ring-opacity-30"} ${o?"bg-gray-100 opacity-50 cursor-not-allowed":"bg-primary"}`,children:[e.jsxs("option",{value:"",children:["Select ",a.toLowerCase()]}),v.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))]}),b&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:b})]}),F=({formData:a,onFormChange:i,errors:s})=>{const u=[{value:"passport",label:"Passport"},{value:"national_id",label:"National ID"},{value:"drivers_license",label:"Driver's License"}],v=[{value:"Afghanistan",label:"Afghanistan"},{value:"Albania",label:"Albania"},{value:"Algeria",label:"Algeria"},{value:"Andorra",label:"Andorra"},{value:"Angola",label:"Angola"},{value:"Antigua and Barbuda",label:"Antigua and Barbuda"},{value:"Argentina",label:"Argentina"},{value:"Armenia",label:"Armenia"},{value:"Australia",label:"Australia"},{value:"Austria",label:"Austria"},{value:"Azerbaijan",label:"Azerbaijan"},{value:"Bahamas",label:"Bahamas"},{value:"Bahrain",label:"Bahrain"},{value:"Bangladesh",label:"Bangladesh"},{value:"Barbados",label:"Barbados"},{value:"Belarus",label:"Belarus"},{value:"Belgium",label:"Belgium"},{value:"Belize",label:"Belize"},{value:"Benin",label:"Benin"},{value:"Bhutan",label:"Bhutan"},{value:"Bolivia",label:"Bolivia"},{value:"Bosnia and Herzegovina",label:"Bosnia and Herzegovina"},{value:"Botswana",label:"Botswana"},{value:"Brazil",label:"Brazil"},{value:"Brunei",label:"Brunei"},{value:"Bulgaria",label:"Bulgaria"},{value:"Burkina Faso",label:"Burkina Faso"},{value:"Burundi",label:"Burundi"},{value:"Cabo Verde",label:"Cabo Verde"},{value:"Cambodia",label:"Cambodia"},{value:"Cameroon",label:"Cameroon"},{value:"Canada",label:"Canada"},{value:"Central African Republic",label:"Central African Republic"},{value:"Chad",label:"Chad"},{value:"Chile",label:"Chile"},{value:"China",label:"China"},{value:"Colombia",label:"Colombia"},{value:"Comoros",label:"Comoros"},{value:"Congo",label:"Congo"},{value:"Costa Rica",label:"Costa Rica"},{value:"Cote d’Ivoire",label:"Cote d’Ivoire"},{value:"Croatia",label:"Croatia"},{value:"Cuba",label:"Cuba"},{value:"Cyprus",label:"Cyprus"},{value:"Czech Republic",label:"Czech Republic"},{value:"Denmark",label:"Denmark"},{value:"Djibouti",label:"Djibouti"},{value:"Dominica",label:"Dominica"},{value:"Dominican Republic",label:"Dominican Republic"},{value:"Ecuador",label:"Ecuador"},{value:"Egypt",label:"Egypt"},{value:"El Salvador",label:"El Salvador"},{value:"Equatorial Guinea",label:"Equatorial Guinea"},{value:"Eritrea",label:"Eritrea"},{value:"Estonia",label:"Estonia"},{value:"Eswatini",label:"Eswatini"},{value:"Ethiopia",label:"Ethiopia"},{value:"Fiji",label:"Fiji"},{value:"Finland",label:"Finland"},{value:"France",label:"France"},{value:"Gabon",label:"Gabon"},{value:"Gambia",label:"Gambia"},{value:"Georgia",label:"Georgia"},{value:"Germany",label:"Germany"},{value:"Ghana",label:"Ghana"},{value:"Greece",label:"Greece"},{value:"Grenada",label:"Grenada"},{value:"Guatemala",label:"Guatemala"},{value:"Guinea",label:"Guinea"},{value:"Guinea-Bissau",label:"Guinea-Bissau"},{value:"Guyana",label:"Guyana"},{value:"Haiti",label:"Haiti"},{value:"Honduras",label:"Honduras"},{value:"Hungary",label:"Hungary"},{value:"Iceland",label:"Iceland"},{value:"India",label:"India"},{value:"Indonesia",label:"Indonesia"},{value:"Iran",label:"Iran"},{value:"Iraq",label:"Iraq"},{value:"Ireland",label:"Ireland"},{value:"Israel",label:"Israel"},{value:"Italy",label:"Italy"},{value:"Jamaica",label:"Jamaica"},{value:"Japan",label:"Japan"},{value:"Jordan",label:"Jordan"},{value:"Kazakhstan",label:"Kazakhstan"},{value:"Kenya",label:"Kenya"},{value:"Kiribati",label:"Kiribati"},{value:"Kuwait",label:"Kuwait"},{value:"Kyrgyzstan",label:"Kyrgyzstan"},{value:"Laos",label:"Laos"},{value:"Latvia",label:"Latvia"},{value:"Lebanon",label:"Lebanon"},{value:"Lesotho",label:"Lesotho"},{value:"Liberia",label:"Liberia"},{value:"Libya",label:"Libya"},{value:"Liechtenstein",label:"Liechtenstein"},{value:"Lithuania",label:"Lithuania"},{value:"Luxembourg",label:"Luxembourg"},{value:"Madagascar",label:"Madagascar"},{value:"Malawi",label:"Malawi"},{value:"Malaysia",label:"Malaysia"},{value:"Maldives",label:"Maldives"},{value:"Mali",label:"Mali"},{value:"Malta",label:"Malta"},{value:"Marshall Islands",label:"Marshall Islands"},{value:"Mauritania",label:"Mauritania"},{value:"Mauritius",label:"Mauritius"},{value:"Mexico",label:"Mexico"},{value:"Micronesia",label:"Micronesia"},{value:"Moldova",label:"Moldova"},{value:"Monaco",label:"Monaco"},{value:"Mongolia",label:"Mongolia"},{value:"Montenegro",label:"Montenegro"},{value:"Morocco",label:"Morocco"},{value:"Mozambique",label:"Mozambique"},{value:"Myanmar",label:"Myanmar"},{value:"Namibia",label:"Namibia"},{value:"Nauru",label:"Nauru"},{value:"Nepal",label:"Nepal"},{value:"Netherlands",label:"Netherlands"},{value:"New Zealand",label:"New Zealand"},{value:"Nicaragua",label:"Nicaragua"},{value:"Niger",label:"Niger"},{value:"Nigeria",label:"Nigeria"},{value:"North Korea",label:"North Korea"},{value:"North Macedonia",label:"North Macedonia"},{value:"Norway",label:"Norway"},{value:"Oman",label:"Oman"},{value:"Pakistan",label:"Pakistan"},{value:"Palau",label:"Palau"},{value:"Palestine",label:"Palestine"},{value:"Panama",label:"Panama"},{value:"Papua New Guinea",label:"Papua New Guinea"},{value:"Paraguay",label:"Paraguay"},{value:"Peru",label:"Peru"},{value:"Philippines",label:"Philippines"},{value:"Poland",label:"Poland"},{value:"Portugal",label:"Portugal"},{value:"Qatar",label:"Qatar"},{value:"Romania",label:"Romania"},{value:"Russia",label:"Russia"},{value:"Rwanda",label:"Rwanda"},{value:"Saint Kitts and Nevis",label:"Saint Kitts and Nevis"},{value:"Saint Lucia",label:"Saint Lucia"},{value:"Saint Vincent and the Grenadines",label:"Saint Vincent and the Grenadines"},{value:"Samoa",label:"Samoa"},{value:"San Marino",label:"San Marino"},{value:"Sao Tome and Principe",label:"Sao Tome and Principe"},{value:"Saudi Arabia",label:"Saudi Arabia"},{value:"Senegal",label:"Senegal"},{value:"Serbia",label:"Serbia"},{value:"Seychelles",label:"Seychelles"},{value:"Sierra Leone",label:"Sierra Leone"},{value:"Singapore",label:"Singapore"},{value:"Slovakia",label:"Slovakia"},{value:"Slovenia",label:"Slovenia"},{value:"Solomon Islands",label:"Solomon Islands"},{value:"Somalia",label:"Somalia"},{value:"South Africa",label:"South Africa"},{value:"South Korea",label:"South Korea"},{value:"South Sudan",label:"South Sudan"},{value:"Spain",label:"Spain"},{value:"Sri Lanka",label:"Sri Lanka"},{value:"Sudan",label:"Sudan"},{value:"Suriname",label:"Suriname"},{value:"Sweden",label:"Sweden"},{value:"Switzerland",label:"Switzerland"},{value:"Syria",label:"Syria"},{value:"Taiwan",label:"Taiwan"},{value:"Tajikistan",label:"Tajikistan"},{value:"Tanzania",label:"Tanzania"},{value:"Thailand",label:"Thailand"},{value:"Timor-Leste",label:"Timor-Leste"},{value:"Togo",label:"Togo"},{value:"Tonga",label:"Tonga"},{value:"Trinidad and Tobago",label:"Trinidad and Tobago"},{value:"Tunisia",label:"Tunisia"},{value:"Turkey",label:"Turkey"},{value:"Turkmenistan",label:"Turkmenistan"},{value:"Tuvalu",label:"Tuvalu"},{value:"Uganda",label:"Uganda"},{value:"Ukraine",label:"Ukraine"},{value:"United Arab Emirates",label:"United Arab Emirates"},{value:"United Kingdom",label:"United Kingdom"},{value:"United States",label:"United States"},{value:"Uruguay",label:"Uruguay"},{value:"Uzbekistan",label:"Uzbekistan"},{value:"Vanuatu",label:"Vanuatu"},{value:"Vatican City",label:"Vatican City"},{value:"Venezuela",label:"Venezuela"},{value:"Vietnam",label:"Vietnam"},{value:"Yemen",label:"Yemen"},{value:"Zambia",label:"Zambia"},{value:"Zimbabwe",label:"Zimbabwe"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary mb-4",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-secondary opacity-70 mb-6",children:"Please provide your personal details as they appear on your government-issued ID."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(p,{label:"Full Name",name:"full_name",value:a.full_name,onChange:i,placeholder:"Your full name",required:!0,error:s.full_name}),e.jsx(p,{label:"Date of Birth",name:"date_of_birth",type:"date",value:a.date_of_birth,onChange:i,required:!0,error:s.date_of_birth})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(p,{label:"Phone Number",name:"phone_number",value:a.phone_number,onChange:i,placeholder:"+31 6 XXXX XXXX",required:!0,error:s.phone_number}),e.jsx(k,{label:"Nationality",name:"nationality",value:a.nationality,onChange:i,options:v,required:!0,error:s.nationality})]}),e.jsx(k,{label:"Document Type",name:"document_type",value:a.document_type,onChange:i,options:u,required:!0,error:s.document_type}),e.jsx(p,{label:"Document Number",name:"document_number",value:a.document_number,onChange:i,placeholder:"e.g., AB123456",required:!0,error:s.document_number}),e.jsx(p,{label:"Document Expiry Date",name:"document_expiry",type:"date",value:a.document_expiry,onChange:i,required:!0,error:s.document_expiry})]})},H=({formData:a,onFormChange:i,errors:s})=>{const u=[{value:"Afghanistan",label:"Afghanistan"},{value:"Albania",label:"Albania"},{value:"Algeria",label:"Algeria"},{value:"Andorra",label:"Andorra"},{value:"Angola",label:"Angola"},{value:"Antigua and Barbuda",label:"Antigua and Barbuda"},{value:"Argentina",label:"Argentina"},{value:"Armenia",label:"Armenia"},{value:"Australia",label:"Australia"},{value:"Austria",label:"Austria"},{value:"Azerbaijan",label:"Azerbaijan"},{value:"Bahamas",label:"Bahamas"},{value:"Bahrain",label:"Bahrain"},{value:"Bangladesh",label:"Bangladesh"},{value:"Barbados",label:"Barbados"},{value:"Belarus",label:"Belarus"},{value:"Belgium",label:"Belgium"},{value:"Belize",label:"Belize"},{value:"Benin",label:"Benin"},{value:"Bhutan",label:"Bhutan"},{value:"Bolivia",label:"Bolivia"},{value:"Bosnia and Herzegovina",label:"Bosnia and Herzegovina"},{value:"Botswana",label:"Botswana"},{value:"Brazil",label:"Brazil"},{value:"Brunei",label:"Brunei"},{value:"Bulgaria",label:"Bulgaria"},{value:"Burkina Faso",label:"Burkina Faso"},{value:"Burundi",label:"Burundi"},{value:"Cabo Verde",label:"Cabo Verde"},{value:"Cambodia",label:"Cambodia"},{value:"Cameroon",label:"Cameroon"},{value:"Canada",label:"Canada"},{value:"Central African Republic",label:"Central African Republic"},{value:"Chad",label:"Chad"},{value:"Chile",label:"Chile"},{value:"China",label:"China"},{value:"Colombia",label:"Colombia"},{value:"Comoros",label:"Comoros"},{value:"Congo",label:"Congo"},{value:"Costa Rica",label:"Costa Rica"},{value:"Cote d’Ivoire",label:"Cote d’Ivoire"},{value:"Croatia",label:"Croatia"},{value:"Cuba",label:"Cuba"},{value:"Cyprus",label:"Cyprus"},{value:"Czech Republic",label:"Czech Republic"},{value:"Denmark",label:"Denmark"},{value:"Djibouti",label:"Djibouti"},{value:"Dominica",label:"Dominica"},{value:"Dominican Republic",label:"Dominican Republic"},{value:"Ecuador",label:"Ecuador"},{value:"Egypt",label:"Egypt"},{value:"El Salvador",label:"El Salvador"},{value:"Equatorial Guinea",label:"Equatorial Guinea"},{value:"Eritrea",label:"Eritrea"},{value:"Estonia",label:"Estonia"},{value:"Eswatini",label:"Eswatini"},{value:"Ethiopia",label:"Ethiopia"},{value:"Fiji",label:"Fiji"},{value:"Finland",label:"Finland"},{value:"France",label:"France"},{value:"Gabon",label:"Gabon"},{value:"Gambia",label:"Gambia"},{value:"Georgia",label:"Georgia"},{value:"Germany",label:"Germany"},{value:"Ghana",label:"Ghana"},{value:"Greece",label:"Greece"},{value:"Grenada",label:"Grenada"},{value:"Guatemala",label:"Guatemala"},{value:"Guinea",label:"Guinea"},{value:"Guinea-Bissau",label:"Guinea-Bissau"},{value:"Guyana",label:"Guyana"},{value:"Haiti",label:"Haiti"},{value:"Honduras",label:"Honduras"},{value:"Hungary",label:"Hungary"},{value:"Iceland",label:"Iceland"},{value:"India",label:"India"},{value:"Indonesia",label:"Indonesia"},{value:"Iran",label:"Iran"},{value:"Iraq",label:"Iraq"},{value:"Ireland",label:"Ireland"},{value:"Israel",label:"Israel"},{value:"Italy",label:"Italy"},{value:"Jamaica",label:"Jamaica"},{value:"Japan",label:"Japan"},{value:"Jordan",label:"Jordan"},{value:"Kazakhstan",label:"Kazakhstan"},{value:"Kenya",label:"Kenya"},{value:"Kiribati",label:"Kiribati"},{value:"Kuwait",label:"Kuwait"},{value:"Kyrgyzstan",label:"Kyrgyzstan"},{value:"Laos",label:"Laos"},{value:"Latvia",label:"Latvia"},{value:"Lebanon",label:"Lebanon"},{value:"Lesotho",label:"Lesotho"},{value:"Liberia",label:"Liberia"},{value:"Libya",label:"Libya"},{value:"Liechtenstein",label:"Liechtenstein"},{value:"Lithuania",label:"Lithuania"},{value:"Luxembourg",label:"Luxembourg"},{value:"Madagascar",label:"Madagascar"},{value:"Malawi",label:"Malawi"},{value:"Malaysia",label:"Malaysia"},{value:"Maldives",label:"Maldives"},{value:"Mali",label:"Mali"},{value:"Malta",label:"Malta"},{value:"Marshall Islands",label:"Marshall Islands"},{value:"Mauritania",label:"Mauritania"},{value:"Mauritius",label:"Mauritius"},{value:"Mexico",label:"Mexico"},{value:"Micronesia",label:"Micronesia"},{value:"Moldova",label:"Moldova"},{value:"Monaco",label:"Monaco"},{value:"Mongolia",label:"Mongolia"},{value:"Montenegro",label:"Montenegro"},{value:"Morocco",label:"Morocco"},{value:"Mozambique",label:"Mozambique"},{value:"Myanmar",label:"Myanmar"},{value:"Namibia",label:"Namibia"},{value:"Nauru",label:"Nauru"},{value:"Nepal",label:"Nepal"},{value:"Netherlands",label:"Netherlands"},{value:"New Zealand",label:"New Zealand"},{value:"Nicaragua",label:"Nicaragua"},{value:"Niger",label:"Niger"},{value:"Nigeria",label:"Nigeria"},{value:"North Korea",label:"North Korea"},{value:"North Macedonia",label:"North Macedonia"},{value:"Norway",label:"Norway"},{value:"Oman",label:"Oman"},{value:"Pakistan",label:"Pakistan"},{value:"Palau",label:"Palau"},{value:"Palestine",label:"Palestine"},{value:"Panama",label:"Panama"},{value:"Papua New Guinea",label:"Papua New Guinea"},{value:"Paraguay",label:"Paraguay"},{value:"Peru",label:"Peru"},{value:"Philippines",label:"Philippines"},{value:"Poland",label:"Poland"},{value:"Portugal",label:"Portugal"},{value:"Qatar",label:"Qatar"},{value:"Romania",label:"Romania"},{value:"Russia",label:"Russia"},{value:"Rwanda",label:"Rwanda"},{value:"Saint Kitts and Nevis",label:"Saint Kitts and Nevis"},{value:"Saint Lucia",label:"Saint Lucia"},{value:"Saint Vincent and the Grenadines",label:"Saint Vincent and the Grenadines"},{value:"Samoa",label:"Samoa"},{value:"San Marino",label:"San Marino"},{value:"Sao Tome and Principe",label:"Sao Tome and Principe"},{value:"Saudi Arabia",label:"Saudi Arabia"},{value:"Senegal",label:"Senegal"},{value:"Serbia",label:"Serbia"},{value:"Seychelles",label:"Seychelles"},{value:"Sierra Leone",label:"Sierra Leone"},{value:"Singapore",label:"Singapore"},{value:"Slovakia",label:"Slovakia"},{value:"Slovenia",label:"Slovenia"},{value:"Solomon Islands",label:"Solomon Islands"},{value:"Somalia",label:"Somalia"},{value:"South Africa",label:"South Africa"},{value:"South Korea",label:"South Korea"},{value:"South Sudan",label:"South Sudan"},{value:"Spain",label:"Spain"},{value:"Sri Lanka",label:"Sri Lanka"},{value:"Sudan",label:"Sudan"},{value:"Suriname",label:"Suriname"},{value:"Sweden",label:"Sweden"},{value:"Switzerland",label:"Switzerland"},{value:"Syria",label:"Syria"},{value:"Taiwan",label:"Taiwan"},{value:"Tajikistan",label:"Tajikistan"},{value:"Tanzania",label:"Tanzania"},{value:"Thailand",label:"Thailand"},{value:"Timor-Leste",label:"Timor-Leste"},{value:"Togo",label:"Togo"},{value:"Tonga",label:"Tonga"},{value:"Trinidad and Tobago",label:"Trinidad and Tobago"},{value:"Tunisia",label:"Tunisia"},{value:"Turkey",label:"Turkey"},{value:"Turkmenistan",label:"Turkmenistan"},{value:"Tuvalu",label:"Tuvalu"},{value:"Uganda",label:"Uganda"},{value:"Ukraine",label:"Ukraine"},{value:"United Arab Emirates",label:"United Arab Emirates"},{value:"United Kingdom",label:"United Kingdom"},{value:"United States",label:"United States"},{value:"Uruguay",label:"Uruguay"},{value:"Uzbekistan",label:"Uzbekistan"},{value:"Vanuatu",label:"Vanuatu"},{value:"Vatican City",label:"Vatican City"},{value:"Venezuela",label:"Venezuela"},{value:"Vietnam",label:"Vietnam"},{value:"Yemen",label:"Yemen"},{value:"Zambia",label:"Zambia"},{value:"Zimbabwe",label:"Zimbabwe"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary mb-4",children:"Address Information"}),e.jsx("p",{className:"text-sm text-secondary opacity-70 mb-6",children:"Please provide your current residential address."})]}),e.jsx(p,{label:"Street Address",name:"address",value:a.address,onChange:i,placeholder:"Street address",required:!0,error:s.address}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(p,{label:"City",name:"city",value:a.city,onChange:i,placeholder:"City",required:!0,error:s.city}),e.jsx(p,{label:"Postal Code",name:"postal_code",value:a.postal_code,onChange:i,placeholder:"Postal code",required:!0,error:s.postal_code})]}),e.jsx(k,{label:"Country",name:"country",value:a.country,onChange:i,options:u,required:!0,error:s.country}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-sm border border-blue-200",children:[e.jsx("input",{type:"checkbox",name:"address_matches_id",checked:a.address_matches_id,onChange:i,className:"w-5 h-5 mt-1 text-blue-600"}),e.jsx("label",{className:"text-sm text-blue-900",children:"I confirm that this address matches the address on my government-issued ID."})]})]})},Y=({formData:a,onFileChange:i,errors:s})=>{const[u,v]=m.useState(!1),o=r=>{r.preventDefault(),r.stopPropagation(),r.type==="dragenter"||r.type==="dragover"?v(!0):r.type==="dragleave"&&v(!1)},b=r=>{if(r.preventDefault(),r.stopPropagation(),v(!1),r.dataTransfer.files&&r.dataTransfer.files[0]){const h=r.dataTransfer.files[0];i({target:{files:[h]}},"document_front")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary mb-4",children:"Upload & Review Documents"}),e.jsx("p",{className:"text-sm text-secondary opacity-70 mb-6",children:"Upload a clear, legible image of your government-issued ID. All pages must be visible. After submission, we'll validate your documents immediately."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-secondary mb-3 uppercase tracking-wider opacity-80",children:["Document Front ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{onDragEnter:o,onDragLeave:o,onDragOver:o,onDrop:r=>b(r),className:`relative border-2 border-dashed rounded-sm p-8 text-center transition-all ${u?"border-basic bg-blue-50":"border-secondary bg-gray-50"} ${s.document_front?"border-red-500":""}`,children:a.document_front?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-green-600",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("p",{className:"font-semibold text-secondary",children:a.document_front.name}),e.jsxs("p",{className:"text-xs text-secondary opacity-70",children:[(a.document_front.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{type:"button",onClick:()=>i({target:{files:[]}},"document_front"),className:"text-xs text-red-600 hover:text-red-700 font-semibold",children:"Remove"})]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx("p",{className:"mt-3 font-semibold text-secondary",children:"Drag and drop your document here"}),e.jsx("p",{className:"text-xs text-secondary opacity-70 mt-1",children:"or click to browse"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:r=>i(r,"document_front"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),s.document_front&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:s.document_front})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-secondary mb-3 uppercase tracking-wider opacity-80",children:["Document Back"," ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsx("div",{className:"relative border-2 border-dashed rounded-sm p-8 text-center transition-all border-secondary bg-gray-50",children:a.document_back?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-green-600",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("p",{className:"font-semibold text-secondary",children:a.document_back.name}),e.jsxs("p",{className:"text-xs text-secondary opacity-70",children:[(a.document_back.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{type:"button",onClick:()=>i({target:{files:[]}},"document_back"),className:"text-xs text-red-600 hover:text-red-700 font-semibold",children:"Remove"})]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx("p",{className:"mt-3 font-semibold text-secondary",children:"Drag and drop document back"}),e.jsx("p",{className:"text-xs text-secondary opacity-70 mt-1",children:"or click to browse"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:r=>i(r,"document_back"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-sm border border-yellow-200 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-900 mb-2",children:"File Requirements:"}),e.jsxs("ul",{className:"text-xs text-yellow-800 space-y-1 opacity-90",children:[e.jsx("li",{children:"• Maximum file size: 10 MB"}),e.jsx("li",{children:"• Accepted formats: JPG, PNG, PDF"}),e.jsx("li",{children:"• Document must be clear and legible"}),e.jsx("li",{children:"• All four corners must be visible"})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-sm border border-blue-200 p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-3",children:"Before submitting, verify:"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-0.5 text-blue-600",disabled:!0}),e.jsx("span",{children:"Document is not expired and expiry date matches form"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-0.5 text-blue-600",disabled:!0}),e.jsx("span",{children:"All text is legible and not blurry or cut off"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-0.5 text-blue-600",disabled:!0}),e.jsx("span",{children:"No reflections or glare on document"})]})]})]})]})};function X(){const a=E(),[i,s]=m.useState(null),[u,v]=m.useState(null),[o,b]=m.useState(1),[r,h]=m.useState(!0),[M,B]=m.useState(!1),[j,N]=m.useState({type:"",text:""}),[t,S]=m.useState({full_name:"",date_of_birth:"",phone_number:"",nationality:"",document_type:"",document_number:"",document_expiry:"",address:"",city:"",postal_code:"",country:"",address_matches_id:!0,document_front:null,document_back:null}),[g,y]=m.useState({}),[A,w]=m.useState([]);m.useEffect(()=>{let n=!0;return(async()=>{try{const{data:{session:l}={}}=await _.auth.getSession(),x=l?.user?.id;if(!x){a("/auth/login",{replace:!0});return}s(x);const{data:d,error:f}=await _.from("user_profiles").select("*").eq("id",x).eq("is_deleted",!1).maybeSingle();if(f)throw console.error("[KYC] Profile error:",f),new Error("Failed to load profile");n&&(v(d),d&&S(c=>({...c,full_name:d.full_name||"",date_of_birth:d.date_of_birth||"",phone_number:d.phone_number||"",nationality:d.nationality||"",address:d.address||"",city:d.city||"",postal_code:d.postal_code||"",country:d.country||""})),d?.kyc_status==="verified"&&(w([1,2,3]),b(4)))}catch(l){console.error("[KYC] Load error:",l),n&&N({type:"error",text:"Failed to load profile. Please refresh."})}finally{n&&h(!1)}})(),()=>{n=!1}},[a]);const L=n=>{const l={};return n===1?(t.full_name||(l.full_name="Full name is required"),t.date_of_birth||(l.date_of_birth="Date of birth is required"),t.phone_number||(l.phone_number="Phone number is required"),t.nationality||(l.nationality="Nationality is required"),t.document_type||(l.document_type="Document type is required"),t.document_number||(l.document_number="Document number is required"),t.document_expiry||(l.document_expiry="Document expiry is required")):n===2?(t.address||(l.address="Address is required"),t.city||(l.city="City is required"),t.postal_code||(l.postal_code="Postal code is required"),t.country||(l.country="Country is required")):n===3&&(t.document_front||(l.document_front="Document front image is required")),y(l),Object.keys(l).length===0},P=n=>{const{name:l,value:x,type:d,checked:f}=n.target;S(c=>({...c,[l]:d==="checkbox"?f:x})),g[l]&&y(c=>({...c,[l]:""}))},I=(n,l)=>{const x=n.target.files?.[0];if(x){if(x.size>10485760){y(c=>({...c,[l]:"File size must be less than 10 MB"}));return}if(!["image/jpeg","image/png","application/pdf"].includes(x.type)){y(c=>({...c,[l]:"Only JPG, PNG, or PDF files are allowed"}));return}S(c=>({...c,[l]:x})),g[l]&&y(c=>({...c,[l]:""}))}},G=()=>{L(o)&&(w(n=>[...new Set([...n,o])]),b(o+1),window.scrollTo(0,0))},K=()=>{o>1&&(b(o-1),window.scrollTo(0,0))},D=async()=>{if(L(3)){B(!0);try{await new Promise(l=>setTimeout(l,1500));const{error:n}=await _.from("user_profiles").update({kyc_status:"verified",kyc_verified_at:new Date().toISOString(),kyc_document_id:`doc_${Date.now()}`,full_name:t.full_name,date_of_birth:t.date_of_birth,phone_number:t.phone_number,nationality:t.nationality,address:t.address,city:t.city,postal_code:t.postal_code,country:t.country,metadata:{document_type:t.document_type,document_number:t.document_number,document_expiry:t.document_expiry,verified_timestamp:new Date().toISOString()}}).eq("id",i);if(n)throw n;w([1,2,3]),b(4),N({type:"success",text:"KYC verification completed successfully!"})}catch(n){console.error("[KYC] Submit error:",n),N({type:"error",text:n?.message||"Failed to complete KYC verification"})}finally{B(!1)}}};if(r)return e.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center",children:e.jsx(T,{size:"lg"})});if(!i||!u)return a("/auth/login",{replace:!0}),null;const C=[{id:1,label:"Personal Info",icon:1},{id:2,label:"Address",icon:2},{id:3,label:"Documents",icon:3}];return e.jsxs("div",{className:"min-h-screen bg-primary",children:[e.jsx(R,{profile:u,handleSignOut:()=>q(a)}),e.jsxs("main",{className:"container mx-auto max-w-4xl px-4 py-6 sm:py-8",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-2 text-xs sm:text-sm text-secondary opacity-70",children:[e.jsx("button",{onClick:()=>a("/dashboard"),className:"hover:opacity-100 font-bold",children:"< Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-semibold opacity-100",children:"KYC Verification"})]}),j.text&&e.jsx("div",{className:`mb-6 p-4 rounded-sm border-l-4 ${j.type==="success"?"bg-green-50 border-green-500 text-green-800":"bg-red-50 border-red-500 text-red-800"}`,children:e.jsx("p",{className:"text-sm font-semibold",children:j.text})}),o<=3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 sm:mb-12",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:C.map((n,l)=>e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx(U,{step:n.icon,isCompleted:A.includes(n.id),isActive:o===n.id}),e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-secondary mt-2 text-center",children:n.label})]}),l<C.length-1&&e.jsx("div",{className:`h-1 flex-1 mx-2 rounded-full ${A.includes(n.id)?"bg-green-600":"bg-gray-200"}`})]},n.id))}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-secondary opacity-70",children:["Step ",o," of ",C.length]})})]}),e.jsxs("div",{className:"bg-primary rounded-sm border border-secondary p-6 sm:p-8 shadow-md mb-8",children:[o===1&&e.jsx(F,{formData:t,onFormChange:P,errors:g}),o===2&&e.jsx(H,{formData:t,onFormChange:P,errors:g}),o===3&&e.jsx(Y,{formData:t,onFileChange:I,errors:g}),e.jsxs("div",{className:"mt-8 flex gap-4",children:[e.jsx("button",{onClick:K,disabled:o===1,className:"flex-1 py-3 px-4 border border-secondary text-secondary font-semibold rounded-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),o<3?e.jsx("button",{onClick:G,className:"flex-1 py-3 px-4 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 transition-all active:scale-95",children:"Next"}):e.jsx("button",{onClick:D,disabled:M,className:"flex-1 py-3 px-4 bg-green-600 text-white font-semibold rounded-sm hover:bg-green-700 disabled:opacity-50 transition-all active:scale-95 flex items-center justify-center gap-2",children:M?e.jsxs(e.Fragment,{children:[e.jsx(T,{size:"sm"})," Validating..."]}):"Complete KYC"})]})]})]}),o===4&&e.jsxs("div",{className:"bg-primary rounded-sm border border-secondary p-8 sm:p-12 text-center shadow-md",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-secondary mb-3",children:"KYC Verified!"}),e.jsx("p",{className:"text-secondary opacity-70 mb-2",children:"Your identity has been successfully verified."}),e.jsxs("p",{className:"text-sm text-secondary opacity-60 mb-8",children:["Verification completed on"," ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("div",{className:"bg-green-50 rounded-sm border border-green-200 p-6 mb-8 text-left",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"You can now:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[e.jsx("li",{children:"✓ Transfer money instantly"}),e.jsx("li",{children:"✓ Increase your transaction limits"}),e.jsx("li",{children:"✓ Access premium banking features"}),e.jsx("li",{children:"✓ Manage multiple accounts"})]})]}),e.jsx("button",{onClick:()=>a("/dashboard"),className:"w-full py-3 px-6 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 transition-all active:scale-95",children:"Return to Dashboard"})]})]})]})}export{X as KYCPage,X as default};
