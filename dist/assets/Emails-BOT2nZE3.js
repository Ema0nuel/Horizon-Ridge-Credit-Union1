import{r as m,s as h,u as A,j as e,a as y,R as B}from"./index-DvGZ9O-H.js";import{i as $}from"./adminAuth-Cqntgn8B.js";import{H as W,S as F}from"./SideBar-BRMnet6c.js";import{s as q,m as P}from"./api-CBahbCmN.js";function J(){const[t,o]=m.useState([]),[s,p]=m.useState([]),[x,c]=m.useState(!1),[b,r]=m.useState(""),[N,l]=m.useState(""),g=m.useCallback(async()=>{try{c(!0),r("");const{data:n,error:i}=await h.from("inbound_emails").select("*").order("created_at",{ascending:!1}).limit(100);if(i)throw i;console.log(`ðŸ“¬ Loaded ${n?.length||0} emails from inbox`),o(n||[])}catch(n){console.error("âŒ Refresh inbox error:",n.message),r(n.message||"Failed to load inbox")}finally{c(!1)}},[]),v=m.useCallback(async()=>{try{const n=localStorage.getItem("sent_emails"),i=n?JSON.parse(n):[];console.log(`ðŸ“¤ Loaded ${i.length} sent emails`),p(i)}catch(n){console.error("âŒ Refresh sent error:",n.message)}},[]),C=m.useCallback(async({to:n,subject:i,html:d})=>{try{if(c(!0),r(""),l(""),!n||!i||!d)throw new Error("All fields are required");console.log("ðŸ“§ Sending email..."),await q({to:n,subject:i,html:d});const f={id:`sent_${Date.now()}`,to:n,subject:i,html:d,timestamp:new Date().toISOString(),status:"sent"},E=localStorage.getItem("sent_emails"),j=E?JSON.parse(E):[];return j.unshift(f),localStorage.setItem("sent_emails",JSON.stringify(j)),p(j),l(`âœ“ Email sent successfully to ${n}`),console.log(`âœ“ Email sent to ${n}`),f}catch(f){throw console.error("âŒ Send email error:",f.message),r(f.message||"Failed to send email"),f}finally{c(!1)}},[]),a=m.useCallback(async n=>{try{c(!0),await P(n),o(i=>i.map(d=>d.id===n?{...d,status:"processed"}:d)),console.log(`âœ“ Email ${n} marked as read`),l("Email marked as read")}catch(i){console.error("âŒ Mark as read error:",i.message),r(i.message||"Failed to mark email as read")}finally{c(!1)}},[]),D=m.useCallback(async n=>{try{c(!0);const{error:i}=await h.from("inbound_emails").delete().eq("id",n);if(i)throw i;o(d=>d.filter(f=>f.id!==n)),console.log(`âœ“ Email ${n} deleted`),l("Email deleted")}catch(i){console.error("âŒ Delete email error:",i.message),r(i.message||"Failed to delete email")}finally{c(!1)}},[]);return m.useEffect(()=>{g(),v(),console.log("ðŸ”„ Setting up real-time subscription for inbound_emails...");const n=h.channel("inbound_emails_realtime").on("postgres_changes",{event:"*",schema:"public",table:"inbound_emails"},i=>{console.log("ðŸ”” Real-time update received:",i.eventType),i.eventType==="INSERT"?(console.log("ðŸ“¨ New email received:",i.new.subject),o(d=>[i.new,...d]),l(`ðŸ“¨ New email: ${i.new.subject}`)):i.eventType==="UPDATE"?(console.log("âœï¸ Email updated:",i.new.id),o(d=>d.map(f=>f.id===i.new.id?i.new:f))):i.eventType==="DELETE"&&(console.log("ðŸ—‘ï¸ Email deleted:",i.old.id),o(d=>d.filter(f=>f.id!==i.old.id)))}).subscribe(i=>{i==="SUBSCRIBED"?console.log("âœ“ Real-time subscription active"):console.log("âŒ Real-time subscription status:",i)});return()=>{console.log("Cleaning up real-time subscription"),h.removeChannel(n)}},[g,v]),m.useEffect(()=>{if(b||N){const n=setTimeout(()=>{r(""),l("")},5e3);return()=>clearTimeout(n)}},[b,N]),{emails:t,sentEmails:s,loading:x,error:b,success:N,sendEmail:C,markAsRead:a,deleteEmail:D,refreshInbox:g}}const S=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8m0 8l-4-2m4 2l4-2"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:20,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:14,columnNumber:3},void 0),Q=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:36,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:30,columnNumber:3},void 0),R=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:52,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:46,columnNumber:3},void 0),G=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:68,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:62,columnNumber:3},void 0),L=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:84,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:78,columnNumber:3},void 0),M=()=>e.jsxDEV("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:95,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:94,columnNumber:3},void 0),_=()=>e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:106,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:100,columnNumber:3},void 0),K=()=>e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:122,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:116,columnNumber:3},void 0),X=()=>e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:138,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:132,columnNumber:3},void 0),w=()=>e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:154,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:148,columnNumber:3},void 0),k=()=>e.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:170,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:164,columnNumber:3},void 0),Z=({isOpen:t,onClose:o,onSend:s,isLoading:p})=>{const[x,c]=m.useState(""),[b,r]=m.useState(""),[N,l]=m.useState(""),[g,v]=m.useState(""),C=async a=>{if(a.preventDefault(),v(""),!x.trim()||!b.trim()||!N.trim()){v("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){v("Invalid email address");return}try{await s({to:x.trim(),subject:b.trim(),html:`<div style="font-family: Arial, sans-serif; line-height: 1.6; color: #333;">${N.trim().replace(/\n/g,"<br>")}</div>`}),c(""),r(""),l("")}catch(D){v(D.message)}};return t?e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:a=>a.target===a.currentTarget&&o(),children:e.jsxDEV("div",{className:"bg-primary rounded-sm border border-secondary shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"sticky top-0 bg-primary border-b border-secondary p-4 sm:p-6 flex justify-between items-center",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(R,{className:"text-basic"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:230,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-xl sm:text-2xl font-bold text-secondary",children:"Compose Email"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:229,columnNumber:11},void 0),e.jsxDEV("button",{onClick:o,className:"p-2 hover:bg-secondary hover:bg-opacity-10 rounded-sm transition-all","aria-label":"Close",children:e.jsxDEV(L,{className:"text-secondary"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:240,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:235,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:228,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:C,className:"p-4 sm:p-6 space-y-4",children:[g&&e.jsxDEV("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded-sm",children:e.jsxDEV("p",{className:"text-sm text-red-800",children:g},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:248,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:247,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-secondary mb-2 uppercase opacity-70 tracking-wider",children:"To"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:254,columnNumber:13},void 0),e.jsxDEV("input",{type:"email",value:x,onChange:a=>c(a.target.value),placeholder:"recipient@example.com",disabled:p,className:"w-full px-4 py-3 border border-secondary rounded-sm focus:outline-none focus:ring-2 focus:ring-basic focus:ring-opacity-30 text-sm disabled:bg-gray-100",required:!0},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:257,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:253,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-secondary mb-2 uppercase opacity-70 tracking-wider",children:"Subject"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:b,onChange:a=>r(a.target.value),placeholder:"Email subject",disabled:p,className:"w-full px-4 py-3 border border-secondary rounded-sm focus:outline-none focus:ring-2 focus:ring-basic focus:ring-opacity-30 text-sm disabled:bg-gray-100",required:!0},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:273,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-secondary mb-2 uppercase opacity-70 tracking-wider",children:"Message"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:286,columnNumber:13},void 0),e.jsxDEV("textarea",{value:N,onChange:a=>l(a.target.value),placeholder:"Type your message here...",rows:8,disabled:p,className:"w-full px-4 py-3 border border-secondary rounded-sm focus:outline-none focus:ring-2 focus:ring-basic focus:ring-opacity-30 text-sm disabled:bg-gray-100 resize-none",required:!0},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:289,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:285,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex gap-3 pt-4 border-t border-secondary",children:[e.jsxDEV("button",{type:"button",onClick:o,disabled:p,className:"flex-1 py-3 px-4 border border-secondary text-secondary font-semibold rounded-sm hover:bg-secondary hover:bg-opacity-5 disabled:opacity-50 transition-all",children:"Cancel"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:p,className:"flex-1 py-3 px-4 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(y,{size:"sm"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:317,columnNumber:19},void 0)," Sending..."]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:316,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:321,columnNumber:19},void 0)," Send"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:320,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:301,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:245,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:226,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:222,columnNumber:5},void 0):null},Y=({isOpen:t,onClose:o,email:s,onMarkRead:p,onDelete:x,isLoading:c})=>{const[b,r]=B.useState(s?.status==="processed"),N=a=>new Date(a).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"UTC"}),l=a=>{if(!a)return"0 B";const D=1024,n=["B","KB","MB","GB"],i=Math.floor(Math.log(a)/Math.log(D));return Math.round(a/Math.pow(D,i)*100)/100+" "+n[i]},g=async()=>{s?.id&&!b&&(await p(s.id),r(!0))},v=async()=>{s?.id&&window.confirm("Are you sure you want to delete this email?")&&(await x(s.id),o())};if(!t||!s)return null;const C=s.attachments&&s.attachments.length>0;return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:a=>a.target===a.currentTarget&&o(),children:e.jsxDEV("div",{className:"bg-primary rounded-sm border border-secondary shadow-lg max-w-4xl w-full my-8",children:[e.jsxDEV("div",{className:"sticky top-0 bg-primary border-b border-secondary p-4 sm:p-6 flex justify-between items-start sm:items-center gap-4 flex-wrap",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h2",{className:"text-lg sm:text-2xl font-bold text-secondary truncate",children:s.subject},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:398,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs sm:text-sm text-secondary opacity-60 mt-1",children:s.message_id},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:401,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:397,columnNumber:11},void 0),e.jsxDEV("button",{onClick:o,className:"p-2 hover:bg-secondary hover:bg-opacity-10 rounded-sm transition-all flex-shrink-0","aria-label":"Close",children:e.jsxDEV(L,{className:"text-secondary"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:410,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:405,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:396,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 sm:p-6 space-y-6 overflow-y-auto max-h-[calc(100vh-200px)]",children:[e.jsxDEV("div",{className:"space-y-4 pb-4 border-b border-secondary",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-secondary opacity-70 font-semibold text-sm uppercase tracking-wider flex-shrink-0",children:[e.jsxDEV(w,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:421,columnNumber:17},void 0),"From:"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:420,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col",children:e.jsxDEV("p",{className:"text-sm sm:text-base font-semibold text-secondary break-all",children:s.from_address},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:425,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:419,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-secondary opacity-70 font-semibold text-sm uppercase tracking-wider flex-shrink-0",children:[e.jsxDEV(w,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:434,columnNumber:17},void 0),"To:"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:433,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col",children:e.jsxDEV("p",{className:"text-sm sm:text-base font-semibold text-secondary break-all",children:s.to_address},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:438,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:437,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:432,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-secondary opacity-70 font-semibold text-sm uppercase tracking-wider flex-shrink-0",children:[e.jsxDEV(X,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:447,columnNumber:17},void 0),"Date:"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:446,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm sm:text-base text-secondary",children:N(s.created_at)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:450,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:445,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxDEV("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider ${s.status==="processed"?"bg-green-100 text-green-700":s.status==="received"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:s.status==="processed"?"âœ“ Read":s.status==="received"?"Unread":"Error"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:457,columnNumber:15},void 0),s.is_spam&&e.jsxDEV("span",{className:"px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider bg-yellow-100 text-yellow-700",children:"âš  Spam"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:473,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:456,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:417,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-secondary uppercase opacity-70 tracking-wider",children:"Message"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:482,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-secondary bg-opacity-5 border border-secondary rounded-sm p-4 min-h-[200px] max-h-[400px] overflow-y-auto",children:s.html_body?e.jsxDEV("div",{className:"prose prose-sm max-w-none text-secondary",dangerouslySetInnerHTML:{__html:s.html_body}},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:487,columnNumber:17},void 0):s.body?e.jsxDEV("p",{className:"text-sm text-secondary whitespace-pre-wrap break-words",children:s.body},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:494,columnNumber:17},void 0):e.jsxDEV("p",{className:"text-sm text-secondary opacity-50",children:"No message content"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:498,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:485,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:481,columnNumber:11},void 0),C&&e.jsxDEV("div",{className:"space-y-3 pb-4 border-t border-secondary pt-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-secondary uppercase opacity-70 tracking-wider flex items-center gap-2",children:[e.jsxDEV(k,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:509,columnNumber:17},void 0)," Attachments (",s.attachments.length,")"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:508,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:s.attachments.map((a,D)=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-secondary bg-opacity-5 border border-secondary rounded-sm hover:bg-opacity-10 transition-colors",children:[e.jsxDEV(k,{className:"text-basic flex-shrink-0"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:517,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-secondary truncate",children:a.filename||`Attachment ${D+1}`},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:519,columnNumber:23},void 0),a.size&&e.jsxDEV("p",{className:"text-xs text-secondary opacity-60",children:l(a.size)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:523,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:518,columnNumber:21},void 0)]},D,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:513,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:511,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:507,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 pb-4 border-t border-secondary pt-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-secondary uppercase opacity-70 tracking-wider",children:"Details"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:536,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary opacity-60",children:"Email ID"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:541,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-secondary font-mono break-all",children:s.message_id},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:542,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:540,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary opacity-60",children:"Received At"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:547,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-secondary",children:new Date(s.created_at).toLocaleString()},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:548,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:546,columnNumber:15},void 0),s.processed_at&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary opacity-60",children:"Processed At"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:554,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-secondary",children:new Date(s.processed_at).toLocaleString()},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:555,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:553,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-secondary opacity-60",children:"Status"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:561,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-secondary capitalize",children:s.status},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:562,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:560,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:539,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:535,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:415,columnNumber:9},void 0),e.jsxDEV("div",{className:"sticky bottom-0 bg-primary border-t border-secondary p-4 sm:p-6 flex gap-3 flex-wrap",children:[!b&&e.jsxDEV("button",{onClick:g,disabled:c,className:"flex-1 min-w-[120px] py-3 px-4 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:[e.jsxDEV(M,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:576,columnNumber:15},void 0)," Mark as Read"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:571,columnNumber:13},void 0),e.jsxDEV("button",{onClick:v,disabled:c,className:"flex-1 min-w-[120px] py-3 px-4 border border-red-500 text-red-600 font-semibold rounded-sm hover:bg-red-50 disabled:opacity-50 transition-all flex items-center justify-center gap-2",children:[e.jsxDEV(_,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:584,columnNumber:13},void 0)," Delete"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:579,columnNumber:11},void 0),e.jsxDEV("button",{onClick:o,className:"flex-1 min-w-[120px] py-3 px-4 border border-secondary text-secondary font-semibold rounded-sm hover:bg-secondary hover:bg-opacity-5 transition-all",children:"Close"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:586,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:569,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:394,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:390,columnNumber:5},void 0)},ee=({email:t,isReceived:o,onMarkRead:s,onDelete:p,onViewDetails:x,isLoading:c})=>{const b=N=>{const l=new Date(N),g=new Date;return l.toDateString()===g.toDateString()?l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):l.toLocaleDateString("en-US",{month:"short",day:"numeric"})},r=o&&t.status==="received";return e.jsxDEV("div",{className:`p-4 border-b border-secondary hover:bg-secondary hover:bg-opacity-5 transition-colors ${r?"bg-blue-50":""}`,children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[o&&e.jsxDEV("button",{onClick:()=>s(t.id),disabled:c,className:`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-all flex-shrink-0 ${r?"border-basic bg-basic":"border-secondary bg-transparent"}`,"aria-label":"Mark as read",children:!r&&e.jsxDEV(M,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:646,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:636,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>x(t),children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-1",children:[e.jsxDEV("p",{className:`text-sm sm:text-base font-semibold truncate ${r?"text-basic":"text-secondary"}`,children:o?t.from_address:t.to},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:656,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-secondary opacity-60",children:b(t.created_at)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:663,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:655,columnNumber:11},void 0),e.jsxDEV("p",{className:`text-sm truncate ${r?"font-semibold text-secondary":"text-secondary opacity-70"}`,children:t.subject},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:668,columnNumber:11},void 0),t.body&&e.jsxDEV("p",{className:"text-xs text-secondary opacity-50 truncate mt-1",children:[t.body.substring(0,100),"..."]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:679,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:651,columnNumber:9},void 0),o&&e.jsxDEV("button",{onClick:()=>p(t.id),disabled:c,className:"p-2 text-secondary opacity-60 hover:opacity-100 hover:bg-red-50 hover:text-red-600 rounded-sm transition-all flex-shrink-0","aria-label":"Delete",children:e.jsxDEV(_,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:693,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:687,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:633,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:628,columnNumber:5},void 0)};function me(){const t=A(),[o,s]=m.useState(!1),[p,x]=m.useState(!1),[c,b]=m.useState(""),[r,N]=m.useState("inbox"),[l,g]=m.useState(!1),[v,C]=m.useState(!1),[a,D]=m.useState(null),[n,i]=m.useState(""),{emails:d,sentEmails:f,loading:E,error:j,success:z,sendEmail:T,markAsRead:H,deleteEmail:O}=J();if(m.useEffect(()=>{if(!$()){t("/user/admin/auth/login",{replace:!0});return}s(!0);const U=sessionStorage.getItem("admin_email")||"admin@example.com";b(U)},[t]),!o)return e.jsxDEV("div",{className:"min-h-screen bg-primary flex items-center justify-center",children:e.jsxDEV(y,{size:"lg"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:744,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:743,columnNumber:7},this);const V=(r==="inbox"?d:f).filter(u=>{const U=n.toLowerCase();return(r==="inbox"?u.from_address:u.to).toLowerCase().includes(U)||u.subject.toLowerCase().includes(U)||u.body&&u.body.toLowerCase().includes(U)}),I=u=>{D(u),C(!0)};return e.jsxDEV("div",{className:"min-h-screen bg-primary",children:[e.jsxDEV(W,{adminEmail:c,onMenuToggle:()=>x(!p)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:770,columnNumber:7},this),e.jsxDEV("div",{className:"flex",children:[e.jsxDEV(F,{isOpen:p,onClose:()=>x(!1)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:777,columnNumber:9},this),e.jsxDEV("main",{className:"flex-1 overflow-auto",children:e.jsxDEV("div",{className:"container mx-auto max-w-6xl px-4 sm:px-6 py-6 sm:py-8",children:[e.jsxDEV("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-secondary mb-2 flex items-center gap-3",children:[e.jsxDEV(R,{className:"text-basic"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:786,columnNumber:19},this)," Email Manager"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:785,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-secondary opacity-70",children:"Send and manage your emails"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:788,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:784,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>g(!0),className:"w-full sm:w-auto py-3 px-6 bg-basic text-primary font-semibold rounded-sm hover:bg-opacity-90 transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsxDEV(G,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:796,columnNumber:17},this)," Compose"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:792,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:783,columnNumber:13},this),j&&e.jsxDEV("div",{className:"mb-6 p-4 sm:p-6 bg-red-50 border-l-4 border-red-500 rounded-sm",children:[e.jsxDEV("p",{className:"text-sm text-red-800 font-semibold",children:"Error"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:803,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-red-700 mt-1",children:j},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:804,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:802,columnNumber:15},this),z&&e.jsxDEV("div",{className:"mb-6 p-4 sm:p-6 bg-green-50 border-l-4 border-green-500 rounded-sm",children:[e.jsxDEV("p",{className:"text-sm text-green-800 font-semibold",children:"Success"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:810,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-green-700 mt-1",children:z},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:811,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:809,columnNumber:15},this),e.jsxDEV("div",{className:"mb-8 flex gap-2 border-b border-secondary",children:[e.jsxDEV("button",{onClick:()=>{N("inbox"),i("")},className:`py-3 px-4 sm:px-6 font-semibold text-sm border-b-2 transition-all flex items-center gap-2 ${r==="inbox"?"border-basic text-basic":"border-transparent text-secondary hover:text-basic"}`,children:[e.jsxDEV(Q,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:828,columnNumber:17},this)," Inbox",d.filter(u=>u.status==="received").length>0&&e.jsxDEV("span",{className:"text-xs bg-basic text-primary rounded-full px-2 py-1",children:d.filter(u=>u.status==="received").length},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:830,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:817,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>{N("sent"),i("")},className:`py-3 px-4 sm:px-6 font-semibold text-sm border-b-2 transition-all flex items-center gap-2 ${r==="sent"?"border-basic text-basic":"border-transparent text-secondary hover:text-basic"}`,children:[e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:846,columnNumber:17},this)," Sent (",f.length,")"]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:835,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:816,columnNumber:13},this),e.jsxDEV("div",{className:"mb-6 relative",children:[e.jsxDEV(K,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-secondary opacity-60 w-5 h-5"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:852,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:n,onChange:u=>i(u.target.value),placeholder:`Search ${r==="inbox"?"inbox":"sent"} emails...`,className:"w-full pl-12 pr-4 py-3 border border-secondary rounded-sm focus:outline-none focus:ring-2 focus:ring-basic focus:ring-opacity-30 text-sm"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:853,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:851,columnNumber:13},this),E&&r==="inbox"?e.jsxDEV("div",{className:"flex justify-center py-16",children:e.jsxDEV(y,{size:"lg"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:867,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:866,columnNumber:15},this):V.length===0?e.jsxDEV("div",{className:"bg-primary border border-secondary rounded-sm p-12 text-center",children:[e.jsxDEV(R,{className:"w-12 h-12 text-secondary opacity-30 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:871,columnNumber:17},this),e.jsxDEV("p",{className:"text-secondary opacity-70",children:n?"No emails match your search":`No ${r} emails`},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:872,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:870,columnNumber:15},this):e.jsxDEV("div",{className:"bg-primary border border-secondary rounded-sm shadow-md overflow-hidden",children:V.map(u=>e.jsxDEV(ee,{email:u,isReceived:r==="inbox",onMarkRead:H,onDelete:O,onViewDetails:I,isLoading:E},u.id,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:881,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:879,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:781,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:780,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:775,columnNumber:7},this),e.jsxDEV(Z,{isOpen:l,onClose:()=>g(!1),onSend:T,isLoading:E},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:898,columnNumber:7},this),e.jsxDEV(Y,{isOpen:v,onClose:()=>{C(!1),D(null)},email:a,onMarkRead:H,onDelete:O,isLoading:E},void 0,!1,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:906,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/emas0/OneDrive/Documents/practice/2026/Horizon Ridge Credit Union/src/pages/admin/main/Emails.jsx",lineNumber:768,columnNumber:5},this)}export{me as default};
